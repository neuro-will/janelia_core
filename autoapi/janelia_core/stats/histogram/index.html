<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>janelia_core.stats.histogram &mdash; janelia_core 1.0 documentation</title><link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="janelia_core.stats.multiple_comparisons" href="../multiple_comparisons/index.html" />
    <link rel="prev" title="janelia_core.stats.bootstrap" href="../bootstrap/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> janelia_core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../install.html">Setting up the core library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install.html#dependencies">Dependencies</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">janelia_core</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../cell_extraction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.cell_extraction</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dataprocessing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.dataprocessing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fileio/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.fileio</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../math/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.math</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ml/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.ml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../registration/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.registration</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.stats</span></code></a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../visualization/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.visualization</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">janelia_core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core</span></code></a> &raquo;</li>
          <li><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.stats</span></code></a> &raquo;</li>
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.stats.histogram</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/janelia_core/stats/histogram/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-janelia_core.stats.histogram">
<span id="janelia-core-stats-histogram"></span><h1><a class="reference internal" href="#module-janelia_core.stats.histogram" title="janelia_core.stats.histogram"><code class="xref py py-mod docutils literal notranslate"><span class="pre">janelia_core.stats.histogram</span></code></a><a class="headerlink" href="#module-janelia_core.stats.histogram" title="Permalink to this headline"></a></h1>
<p>Tools for working with histograms.</p>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline"></a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#janelia_core.stats.histogram.HistogramFilter" title="janelia_core.stats.histogram.HistogramFilter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HistogramFilter</span></code></a></p></td>
<td><p>Object for updating a histogram of counts with streaming data.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="janelia_core.stats.histogram.HistogramFilter">
<em class="property">class </em><code class="sig-prename descclassname">janelia_core.stats.histogram.</code><code class="sig-name descname">HistogramFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">n_bins</span><span class="o">=</span><span class="default_value">1000</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter" title="Permalink to this definition"></a></dt>
<dd><p>Object for updating a histogram of counts with streaming data.</p>
<p>This object is useful when needing to calculate percentiles of data over moving windows.</p>
<p>The user specifies a min and max value of the histograms and a number of bins to include in this range.  The user
can then add and remove values to the histogram, which will add and remove counts to the appropriate bins in the
histogram.  If a user tries to add or remove a value falling outside of the range of the histogram, that value will
be ignored.</p>
<p>Bins of the histogram have inclusive leading edges and exclusive trailing edges.  For example, if we construct a
histogram with 2 bins with a min value of 0 and a max value of 1, the bins will have edges [0, .5) and [.5, 1).</p>
<p>Note: At the moment this function is optimized for speed when adding and removing values but can be subject to
floating point errors.  If more exact results are required, use other means of calculating histograms.</p>
<p>Creates a HistogramFilter.</p>
<dl>
<dt>Args:</dt><dd><p>min,max: Set the range of values we want to calculate histograms values over.  Values outside of this
range will be ignored when adding or removing values from the buffer.</p>
<p>n_bins: The number of bins in the histogram.</p>
</dd>
</dl>
<dl class="py method">
<dt id="janelia_core.stats.histogram.HistogramFilter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">numpy.ndarray</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter.reset" title="Permalink to this definition"></a></dt>
<dd><p>Resets the buffer.</p>
<p>If no data is provided, all counts in the buffer are set to 0.  If data is provided,
the buffer is filled with counts of the values in the provided data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data: If provided, counts in the buffer are reset based on this data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="janelia_core.stats.histogram.HistogramFilter.add_value">
<code class="sig-name descname">add_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">vl</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter.add_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter.add_value" title="Permalink to this definition"></a></dt>
<dd><p>Adds a value to the buffer.</p>
</dd></dl>

<dl class="py method">
<dt id="janelia_core.stats.histogram.HistogramFilter.remove_value">
<code class="sig-name descname">remove_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">vl</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter.remove_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter.remove_value" title="Permalink to this definition"></a></dt>
<dd><p>Removes a value from the buffer.</p>
</dd></dl>

<dl class="py method">
<dt id="janelia_core.stats.histogram.HistogramFilter.percentile">
<code class="sig-name descname">percentile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">percentile</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a><a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter.percentile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter.percentile" title="Permalink to this definition"></a></dt>
<dd><p>Returns the bin containing a given percentile.</p>
<p>By “bin containing given percentile” this function returns the smallest index of a bin
for which the counts in that bin exceed the requested percentile.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>percentile: The requested percentile</p>
</dd>
<dt>Returns:</dt><dd><p>bin_idx: The bin containing the requested percentile.</p>
</dd>
<dt>Raises:</dt><dd><p>RuntimeError: If percentile is outside of the range [0, 1).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="janelia_core.stats.histogram.HistogramFilter.get_bin_starting_edges">
<code class="sig-name descname">get_bin_starting_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter.get_bin_starting_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter.get_bin_starting_edges" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of starting edges for each bin in the buffer.</p>
</dd></dl>

<dl class="py method">
<dt id="janelia_core.stats.histogram.HistogramFilter._get_bin">
<code class="sig-name descname">_get_bin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">vl</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a><a class="reference internal" href="../../../../_modules/janelia_core/stats/histogram.html#HistogramFilter._get_bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janelia_core.stats.histogram.HistogramFilter._get_bin" title="Permalink to this definition"></a></dt>
<dd><p>Returns the bin of a histogram a value falls into.</p>
<p>If the value falls outside of the range of the histogram (defined by the min and max values of the
HistogramBuffer object) a warning will be printed and None will be returned.</p>
<p>Note: This function is not the most robust with respect to floating point errors and could probably
be improved in this regard.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>vl: The value the bin should be returned for</p>
</dd>
<dt>Returns:</dt><dd><p>bin: The index of self.buffer for the bin the value falls in.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../bootstrap/index.html" class="btn btn-neutral float-left" title="janelia_core.stats.bootstrap" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../multiple_comparisons/index.html" class="btn btn-neutral float-right" title="janelia_core.stats.multiple_comparisons" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, William Bishop.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>